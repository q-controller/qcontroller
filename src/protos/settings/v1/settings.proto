syntax = "proto3";

package settings.v1;

option go_package = "github.com/q-controller/qcontroller/src/generated/settings/v1;v1";

message VM {
    uint32 cpus = 1;
    uint32 memory = 2;
    uint32 disk = 3;
}

message Cache {
    string root = 1;
}

message Dhcp {
    string start = 1;
    string end = 2;
    repeated string dns = 3;
    int64 lease_time = 4;
    string lease_file = 5;
}

message Network {
    string name = 1;
    string gateway_ip = 2;
    string bridge_ip = 3;
    Dhcp dhcp = 4;
}

message LinuxSettings {
    Network network = 1;
}

message ControllerConfig {
    uint32 port = 1;
    Cache cache = 2;
    string root = 3;
    string qemu_endpoint = 4;
}

message QemuConfig {
    uint32 port = 1;
    Cache cache = 2;
    string root = 3;

    oneof platform_specific {
        LinuxSettings linux_settings = 4;
    }
}

message GatewayConfig {
    uint32 port = 1;
    string controller_endpoint = 2;
    bool expose_swagger_ui = 3;
}
